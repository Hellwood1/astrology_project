{"version":3,"file":"index.js","sources":["../src/js/modal.js","../src/js/swiper.js","../src/js/matrix-slider.js","../src/js/taro-swiper.js"],"sourcesContent":["import { createFocusTrap } from 'focus-trap';\n\nconst refs = {\n  openBtn: document.querySelector('.mobile-menu-btn'),\n  closeBtn: document.querySelector('.close-menu-btn'),\n  mobileMenu: document.querySelector('.mobile-menu-wrapper'),\n};\n\nlet focusTrap = null;\n\nfunction openMenu() {\n  refs.mobileMenu?.classList.add('is-open');\n\n  if (!focusTrap) {\n    focusTrap = createFocusTrap(refs.mobileMenu, {\n      escapeDeactivates: true,\n      clickOutsideDeactivates: true,\n      onActivate: () => {\n        console.log('Focus trapped inside mobile menu');\n      },\n      onDeactivate: () => {\n        console.log('Focus trap deactivated');\n      },\n    });\n  }\n\n  focusTrap.activate();\n}\n\nfunction closeMenu() {\n  refs.mobileMenu?.classList.remove('is-open');\n  focusTrap?.deactivate();\n}\n\nrefs.openBtn?.addEventListener('click', openMenu);\nrefs.closeBtn?.addEventListener('click', closeMenu);","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.vedic-swiper', {\n  loop: true,\n  navigation: {\n    nextEl: '.vedic-right-swiper-btn',\n    prevEl: '.vedic-left-swiper-btn',\n  },\n  allowTouchMove: true,\n  autoHeight: true,\n});\n\ndocument.querySelectorAll('.vedic-left-swiper-btn, .vedic-right-swiper-btn')\n  .forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.blur();\n    });\n  });","const slider = document.querySelector('.matrix-services-list');\nconst items = document.querySelectorAll('.matrix-services-list-item');\nconst prevBtn = document.querySelector('.arrow-btn.prev');\nconst nextBtn = document.querySelector('.arrow-btn.next');\n\nlet startX = 0;\nlet current = 0;\nlet previous = 0;\nlet dragging = false;\nlet animationFrame;\nconst cardWidth = items[0].offsetWidth + 30; // Gap between cards\n\n// -------------------- Свайпер --------------------\nslider.addEventListener('touchstart', (e) => {\n  dragging = true;\n  startX = e.touches[0].clientX;\n  slider.style.transition = 'none';\n  animationFrame = requestAnimationFrame(updateSlider);\n});\n\nslider.addEventListener('touchmove', (e) => {\n  if (!dragging) return;\n  const x = e.touches[0].clientX;\n  current = previous + (x - startX);\n});\n\nslider.addEventListener('touchend', () => {\n  dragging = false;\n  cancelAnimationFrame(animationFrame);\n  centerNearestCard();\n});\n\nfunction updateSlider() {\n  slider.style.transform = `translateX(${current}px)`;\n  if (dragging) requestAnimationFrame(updateSlider);\n}\n\n// -------------------- Карусель для ПК версії --------------------\nif (prevBtn && nextBtn) {\n  prevBtn.addEventListener('click', (e) => {\n    current += cardWidth;\n    handleLimitScroll('left');\n    animateVisibleCards('left');\n    e.currentTarget.blur();\n  });\n\n  nextBtn.addEventListener('click', (e) => {\n    current -= cardWidth;\n    handleLimitScroll('right');\n    animateVisibleCards('right');\n    e.currentTarget.blur();\n  });\n}\n\n// -------------------- Реалізовано обмеження прокруту, струс та зникання кнопки --------------------\nfunction handleLimitScroll(direction = '') {\n  const maxShift = slider.offsetWidth - slider.scrollWidth;\n\n  current = Math.max(Math.min(0, current), maxShift);\n  slider.style.transition = 'transform var(--timing-function)';\n  slider.style.transform = `translateX(${current}px)`;\n  previous = current;\n\n  toggleArrowButtons(current, maxShift);\n\n  if (current === 0 && direction === 'left') {\n    shakeCard('first');\n  } else if (current === maxShift && direction === 'right') {\n    shakeCard('last');\n  }\n}\n\n// -------------------- Центрування карток на мобільних пристроях при свайпі --------------------\nfunction centerNearestCard() {\n  const containerRect = slider.parentElement.getBoundingClientRect();\n\n  let closestItem = null;\n  let closestDistance = Infinity;\n\n  items.forEach((item) => {\n    const itemRect = item.getBoundingClientRect();\n    const itemCenter = itemRect.left + itemRect.width / 2;\n    const containerCenter = containerRect.left + containerRect.width / 2;\n    const distance = Math.abs(itemCenter - containerCenter);\n\n    if (distance < closestDistance) {\n      closestDistance = distance;\n      closestItem = item;\n    }\n  });\n\n  if (closestItem) {\n    const itemRect = closestItem.getBoundingClientRect();\n    const containerCenter = containerRect.left + containerRect.width / 2;\n    const offset = itemRect.left + itemRect.width / 2 - containerCenter;\n\n    current -= offset;\n    handleLimitScroll();\n  }\n}\n\n// -------------------- Реалізовано анімування карток --------------------\nfunction animateVisibleCards(direction) {\n  const visibleCard = getVisibleCard();\n  if (visibleCard) {\n    visibleCard.classList.remove('slide-in-left', 'slide-in-right');\n    requestAnimationFrame(() => {\n      visibleCard.classList.add(direction === 'left' ? 'slide-in-left' : 'slide-in-right');\n    });\n  }\n}\n\nfunction getVisibleCard() {\n  return [...items].find((item) => {\n    const rect = item.getBoundingClientRect();\n    const parentRect = slider.getBoundingClientRect();\n    return rect.left >= parentRect.left && rect.right <= parentRect.right;\n  });\n}\n\nfunction shakeCard(position) {\n  let target;\n  if (position === 'first') {\n    target = items[0];\n  } else if (position === 'last') {\n    target = items[items.length - 1];\n  }\n\n  if (target) {\n    target.classList.add('shake');\n    target.addEventListener('animationend', () => {\n      target.classList.remove('shake');\n    }, { once: true });\n  }\n}\n\n\nfunction toggleArrowButtons(current, maxShift) {\n  if (current === 0) {\n    prevBtn.style.opacity = '0';\n    prevBtn.style.pointerEvents = 'none';\n  } else {\n    prevBtn.style.opacity = '1';\n    prevBtn.style.pointerEvents = 'auto';\n  }\n\n  if (current === maxShift) {\n    nextBtn.style.opacity = '0';\n    nextBtn.style.pointerEvents = 'none';\n  } else {\n    nextBtn.style.opacity = '1';\n    nextBtn.style.pointerEvents = 'auto';\n  }\n}\n\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.taro-swiper-init', {\n  loop: true,\n  navigation: {\n    nextEl: '.taro-right-swiper-btn',\n    prevEl: '.taro-left-swiper-btn',\n  },\n  allowTouchMove: true,\n  autoHeight: true,\n  slidesPerView: 'auto',\n  spaceBetween: 0,\n  centeredSlides: true,\n});\n\ndocument.querySelectorAll('.taro-left-swiper-btn, .taro-right-swiper-btn')\n  .forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.blur();\n    });\n  });"],"names":["refs","focusTrap","openMenu","_a","createFocusTrap","closeMenu","Swiper","btn","slider","items","prevBtn","nextBtn","startX","current","previous","dragging","animationFrame","cardWidth","updateSlider","x","centerNearestCard","handleLimitScroll","animateVisibleCards","direction","maxShift","toggleArrowButtons","shakeCard","containerRect","closestItem","closestDistance","item","itemRect","itemCenter","containerCenter","distance","offset","visibleCard","getVisibleCard","rect","parentRect","position","target"],"mappings":"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"}