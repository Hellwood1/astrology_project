{"version":3,"file":"index.js","sources":["../src/js/modal.js","../src/js/audio.js","../src/js/swiper.js","../src/js/matrix-and-taro-swiper.js","../src/js/reiki-swiper.js","../src/js/faq-accordion.js","../src/js/up-btn.js","../src/js/retreat-overlay.js"],"sourcesContent":["import { createFocusTrap } from 'focus-trap';\n\nconst refs = {\n  openBtn: document.querySelector('.mobile-menu-btn'),\n  closeBtn: document.querySelector('.close-menu-btn'),\n  mobileMenu: document.querySelector('.mobile-menu-wrapper'),\n};\n\nlet focusTrap = null;\n\nfunction openMenu() {\n  refs.mobileMenu?.classList.add('is-open');\n\n  if (!focusTrap) {\n    focusTrap = createFocusTrap(refs.mobileMenu, {\n      escapeDeactivates: true,\n      clickOutsideDeactivates: true,\n      onActivate: () => {\n        console.log('On');\n      },\n      onDeactivate: () => {\n        console.log('Off');\n      },\n    });\n  }\n\n  focusTrap.activate();\n\n  refs.mobileMenu?.addEventListener('click', handleMenuItemClick);\n}\n\nfunction closeMenu() {\n  refs.mobileMenu?.classList.remove('is-open');\n  focusTrap?.deactivate();\n\n  refs.mobileMenu?.removeEventListener('click', handleMenuItemClick);\n}\n\nfunction handleMenuItemClick(event) {\n  const clickedEl = event.target;\n\n  if (\n    clickedEl.tagName === 'A' ||\n    clickedEl.tagName === 'BUTTON' ||\n    clickedEl.closest('[data-close]')\n  ) {\n    closeMenu();\n  }\n}\n\nrefs.openBtn?.addEventListener('click', openMenu);\nrefs.closeBtn?.addEventListener('click', closeMenu);","const audio = document.getElementById('bgMusic');\nconst soundBtn = document.querySelector('.sound-btn');\nconst soundText = soundBtn.querySelector('.sound-btn-text');\nconst soundIcon = soundBtn.querySelector('.sound-svg use');\n\nfunction updateButtonState() {\n  if (audio.paused) {\n    soundText.textContent = 'Відтворити';\n    soundIcon.setAttribute('href', './img/sprite.svg#play-icon');\n  } else {\n    soundText.textContent = 'Зупинити';\n    soundIcon.setAttribute('xlink:href', './img/sprite.svg#pause-icon');\n  }\n}\n\nfunction tryPlayOnce() {\n  if (audio.paused) {\n    audio.muted = false;\n    audio.play().then(() => {\n      updateButtonState();\n    }).catch(e => {\n      console.warn('Autoplay blocked:', e.message);\n    });\n  }\n\n  document.removeEventListener('click', tryPlayOnce);\n  document.removeEventListener('scroll', tryPlayOnce);\n  document.removeEventListener('keydown', tryPlayOnce);\n}\n\ndocument.addEventListener('click', tryPlayOnce, { once: true });\ndocument.addEventListener('scroll', tryPlayOnce, { once: true });\ndocument.addEventListener('keydown', tryPlayOnce, { once: true });\n\nsoundBtn.addEventListener('click', () => {\n  audio.muted = false;\n\n  if (audio.paused) {\n    audio.play().catch(e => console.warn('Manual play error:', e));\n  } else {\n    audio.pause();\n  }\n\n  updateButtonState();\n});","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.vedic-swiper', {\n  loop: true,\n  navigation: {\n    nextEl: '.vedic-right-swiper-btn',\n    prevEl: '.vedic-left-swiper-btn',\n  },\n  allowTouchMove: true,\n  autoHeight: true,\n});\n\ndocument.querySelectorAll('.vedic-left-swiper-btn, .vedic-right-swiper-btn ')\n  .forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.blur();\n    });\n  });","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.taro-swiper-init, .matrix-swiper-init', {\n  loop: true,\n  navigation: {\n    nextEl: '.taro-right-swiper-btn, .matrix-right-swiper-btn',\n    prevEl: '.taro-left-swiper-btn, .matrix-left-swiper-btn',\n  },\n  allowTouchMove: true,\n  autoHeight: true,\n  slidesPerView: 'auto',\n  spaceBetween: 0,\n  centeredSlides: true,\n});\n\ndocument.querySelectorAll('.taro-left-swiper-btn, .taro-right-swiper-btn, .matrix-left-swiper-btn, .matrix-right-swiper-btn')\n  .forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.blur();\n    });\n  });","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nlet swiper;\nconst initSwiper = () => {\n  swiper = new Swiper('.reiki-swiper-init', {\n    loop: false,\n    allowTouchMove: true,\n    autoHeight: true,\n    slidesPerView: 'auto',\n    spaceBetween: 0,\n    centeredSlides: true,\n  });\n};\n\nconst destroySwiper = () => {\n  if (swiper) {\n    swiper.destroy(true, true);\n    swiper = null;\n  }\n};\n\nconst handleResize = () => {\n  if (window.innerWidth >= 1440) {\n    destroySwiper();\n  } else {\n    if (!swiper) {\n      initSwiper();\n    }\n  }\n};\n\nwindow.addEventListener('resize', handleResize);\n\nhandleResize();","import Accordion from 'accordion-js';\nnew Accordion('.faq-accordion-container');","const scrollBtn = document.querySelector('.scroll-to-top');\nconst triggerEl = document.querySelector('#start');\n\nwindow.addEventListener('scroll', () => {\n  const triggerPosition = triggerEl.getBoundingClientRect().top;\n\n  if (triggerPosition <= 0) {\n    scrollBtn.classList.add('show');\n  } else {\n    scrollBtn.classList.remove('show');\n  }\n});\n\nscrollBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth'\n  });\n});","document.addEventListener(\"DOMContentLoaded\", () => {\n  const videoBoxes = document.querySelectorAll(\".small-video-box\");\n\n  videoBoxes.forEach((box) => {\n    const video = box.querySelector(\"video\");\n    const overlay = box.querySelector(\".video-overlay\");\n    const playBtn = box.querySelector(\".video-play-btn\");\n\n    if (!video || !overlay) return;\n\n    video.setAttribute(\"tabindex\", \"-1\");\n\n    if (playBtn) {\n      playBtn.setAttribute(\"tabindex\", \"-1\");\n    }\n\n    overlay.addEventListener(\"click\", () => {\n      video.play();\n      overlay.style.opacity = \"0\";\n      overlay.style.pointerEvents = \"none\";\n      box.classList.add(\"video-playing\");\n      if (playBtn) playBtn.classList.add(\"hidden\");\n    });\n\n    overlay.addEventListener(\"keydown\", (e) => {\n      if (e.key === \"Enter\" || e.key === \" \" || e.code === \"Space\") {\n        e.preventDefault();\n        video.play();\n        overlay.style.opacity = \"0\";\n        overlay.style.pointerEvents = \"none\";\n        box.classList.add(\"video-playing\");\n        if (playBtn) playBtn.classList.add(\"hidden\");\n      }\n    });\n\n    if (playBtn) {\n      playBtn.addEventListener(\"click\", () => {\n        video.play();\n        overlay.style.opacity = \"0\";\n        overlay.style.pointerEvents = \"none\";\n        box.classList.add(\"video-playing\");\n        playBtn.classList.add(\"hidden\");\n      });\n    }\n\n    video.addEventListener(\"play\", () => {\n      overlay.style.opacity = \"0\";\n      overlay.style.pointerEvents = \"none\";\n      box.classList.add(\"video-playing\");\n      if (playBtn) playBtn.classList.add(\"hidden\");\n    });\n\n    video.addEventListener(\"ended\", () => {\n      overlay.style.opacity = \"1\";\n      overlay.style.pointerEvents = \"auto\";\n      box.classList.remove(\"video-playing\");\n      if (playBtn) playBtn.classList.remove(\"hidden\");\n    });\n  });\n});"],"names":["refs","focusTrap","openMenu","_a","createFocusTrap","_b","handleMenuItemClick","closeMenu","event","clickedEl","audio","soundBtn","soundText","soundIcon","updateButtonState","tryPlayOnce","e","Swiper","btn","swiper","initSwiper","destroySwiper","handleResize","Accordion","scrollBtn","triggerEl","box","video","overlay","playBtn"],"mappings":"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"}