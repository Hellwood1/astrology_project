{"version":3,"file":"index.js","sources":["../src/js/modal.js","../src/js/audio.js","../src/js/swiper.js","../src/js/matrix-slider.js","../src/js/taro-swiper.js","../src/js/reiki-swiper.js","../src/js/faq-accordion.js","../src/js/up-btn.js"],"sourcesContent":["import { createFocusTrap } from 'focus-trap';\n\nconst refs = {\n  openBtn: document.querySelector('.mobile-menu-btn'),\n  closeBtn: document.querySelector('.close-menu-btn'),\n  mobileMenu: document.querySelector('.mobile-menu-wrapper'),\n};\n\nlet focusTrap = null;\n\nfunction openMenu() {\n  refs.mobileMenu?.classList.add('is-open');\n\n  if (!focusTrap) {\n    focusTrap = createFocusTrap(refs.mobileMenu, {\n      escapeDeactivates: true,\n      clickOutsideDeactivates: true,\n      onActivate: () => {\n        console.log('On');\n      },\n      onDeactivate: () => {\n        console.log('Off');\n      },\n    });\n  }\n\n  focusTrap.activate();\n\n  refs.mobileMenu?.addEventListener('click', handleMenuItemClick);\n}\n\nfunction closeMenu() {\n  refs.mobileMenu?.classList.remove('is-open');\n  focusTrap?.deactivate();\n\n  refs.mobileMenu?.removeEventListener('click', handleMenuItemClick);\n}\n\nfunction handleMenuItemClick(event) {\n  const clickedEl = event.target;\n\n  if (\n    clickedEl.tagName === 'A' ||\n    clickedEl.tagName === 'BUTTON' ||\n    clickedEl.closest('[data-close]')\n  ) {\n    closeMenu();\n  }\n}\n\nrefs.openBtn?.addEventListener('click', openMenu);\nrefs.closeBtn?.addEventListener('click', closeMenu);","// audio\nconst audio = document.getElementById('bgMusic');\nconst soundBtn = document.querySelector('.sound-btn');\nconst soundText = soundBtn.querySelector('.sound-btn-text');\nconst soundIcon = soundBtn.querySelector('.sound-svg use'); // обов'язково <use>, не svg\n\nfunction updateButtonState() {\n  if (audio.paused) {\n    soundText.textContent = 'Відтворити';\n    soundIcon.setAttribute('href', '../img/sprite.svg#play-icon');\n  } else {\n    soundText.textContent = 'Зупинити';\n    soundIcon.setAttribute('href', '../img/sprite.svg#pause-icon');\n  }\n}\n\nfunction tryPlay() {\n  audio.play().then(() => {\n    updateButtonState();\n  }).catch((e) => {\n    console.warn('Audio play failed', e);\n  });\n\n  document.removeEventListener('click', tryPlay);\n  document.removeEventListener('scroll', tryPlay);\n  document.removeEventListener('keydown', tryPlay);\n}\n\ndocument.addEventListener('click', tryPlay);\ndocument.addEventListener('scroll', tryPlay);\ndocument.addEventListener('keydown', tryPlay);\n\nsoundBtn.addEventListener('click', () => {\n  if (audio.paused) {\n    audio.play();\n  } else {\n    audio.pause();\n  }\n  updateButtonState();\n});","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.vedic-swiper', {\n  loop: true,\n  navigation: {\n    nextEl: '.vedic-right-swiper-btn',\n    prevEl: '.vedic-left-swiper-btn',\n  },\n  allowTouchMove: true,\n  autoHeight: true,\n});\n\ndocument.querySelectorAll('.vedic-left-swiper-btn, .vedic-right-swiper-btn')\n  .forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.blur();\n    });\n  });","const slider = document.querySelector('.matrix-services-list');\nconst items = document.querySelectorAll('.matrix-services-list-item');\nconst prevBtn = document.querySelector('.arrow-btn.prev');\nconst nextBtn = document.querySelector('.arrow-btn.next');\n\nlet startX = 0;\nlet current = 0;\nlet previous = 0;\nlet dragging = false;\nlet animationFrame;\nconst cardWidth = items[0].offsetWidth + 30; // Gap between cards\n\n// -------------------- Свайпер --------------------\nslider.addEventListener('touchstart', (e) => {\n  dragging = true;\n  startX = e.touches[0].clientX;\n  slider.style.transition = 'none';\n  animationFrame = requestAnimationFrame(updateSlider);\n});\n\nslider.addEventListener('touchmove', (e) => {\n  if (!dragging) return;\n  const x = e.touches[0].clientX;\n  current = previous + (x - startX);\n});\n\nslider.addEventListener('touchend', () => {\n  dragging = false;\n  cancelAnimationFrame(animationFrame);\n  centerNearestCard();\n});\n\nfunction updateSlider() {\n  slider.style.transform = `translateX(${current}px)`;\n  if (dragging) requestAnimationFrame(updateSlider);\n}\n\n// -------------------- Карусель для ПК версії --------------------\nif (prevBtn && nextBtn) {\n  prevBtn.addEventListener('click', (e) => {\n    current += cardWidth;\n    handleLimitScroll('left');\n    animateVisibleCards('left');\n    e.currentTarget.blur();\n  });\n\n  nextBtn.addEventListener('click', (e) => {\n    current -= cardWidth;\n    handleLimitScroll('right');\n    animateVisibleCards('right');\n    e.currentTarget.blur();\n  });\n}\n\n// -------------------- Реалізовано обмеження прокруту, струс та зникання кнопки --------------------\nfunction handleLimitScroll(direction = '') {\n  const maxShift = slider.offsetWidth - slider.scrollWidth;\n\n  current = Math.max(Math.min(0, current), maxShift);\n  slider.style.transition = 'transform var(--timing-function)';\n  slider.style.transform = `translateX(${current}px)`;\n  previous = current;\n\n  toggleArrowButtons(current, maxShift);\n\n  if (current === 0 && direction === 'left') {\n    shakeCard('first');\n  } else if (current === maxShift && direction === 'right') {\n    shakeCard('last');\n  }\n}\n\n// -------------------- Центрування карток на мобільних пристроях при свайпі --------------------\nfunction centerNearestCard() {\n  const containerRect = slider.parentElement.getBoundingClientRect();\n\n  let closestItem = null;\n  let closestDistance = Infinity;\n\n  items.forEach((item) => {\n    const itemRect = item.getBoundingClientRect();\n    const itemCenter = itemRect.left + itemRect.width / 2;\n    const containerCenter = containerRect.left + containerRect.width / 2;\n    const distance = Math.abs(itemCenter - containerCenter);\n\n    if (distance < closestDistance) {\n      closestDistance = distance;\n      closestItem = item;\n    }\n  });\n\n  if (closestItem) {\n    const itemRect = closestItem.getBoundingClientRect();\n    const containerCenter = containerRect.left + containerRect.width / 2;\n    const offset = itemRect.left + itemRect.width / 2 - containerCenter;\n\n    current -= offset;\n    handleLimitScroll();\n  }\n}\n\n// -------------------- Реалізовано анімування карток --------------------\nfunction animateVisibleCards(direction) {\n  const visibleCard = getVisibleCard();\n  if (visibleCard) {\n    visibleCard.classList.remove('slide-in-left', 'slide-in-right');\n    requestAnimationFrame(() => {\n      visibleCard.classList.add(direction === 'left' ? 'slide-in-left' : 'slide-in-right');\n    });\n  }\n}\n\nfunction getVisibleCard() {\n  return [...items].find((item) => {\n    const rect = item.getBoundingClientRect();\n    const parentRect = slider.getBoundingClientRect();\n    return rect.left >= parentRect.left && rect.right <= parentRect.right;\n  });\n}\n\nfunction shakeCard(position) {\n  let target;\n  if (position === 'first') {\n    target = items[0];\n  } else if (position === 'last') {\n    target = items[items.length - 1];\n  }\n\n  if (target) {\n    target.classList.add('shake');\n    target.addEventListener('animationend', () => {\n      target.classList.remove('shake');\n    }, { once: true });\n  }\n}\n\n\nfunction toggleArrowButtons(current, maxShift) {\n  if (current === 0) {\n    prevBtn.style.opacity = '0';\n    prevBtn.style.pointerEvents = 'none';\n  } else {\n    prevBtn.style.opacity = '1';\n    prevBtn.style.pointerEvents = 'auto';\n  }\n\n  if (current === maxShift) {\n    nextBtn.style.opacity = '0';\n    nextBtn.style.pointerEvents = 'none';\n  } else {\n    nextBtn.style.opacity = '1';\n    nextBtn.style.pointerEvents = 'auto';\n  }\n}\n\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.taro-swiper-init', {\n  loop: false,\n  navigation: {\n    nextEl: '.taro-right-swiper-btn',\n    prevEl: '.taro-left-swiper-btn',\n  },\n  allowTouchMove: true,\n  autoHeight: true,\n  slidesPerView: 'auto',\n  spaceBetween: 0,\n  centeredSlides: true,\n});\n\ndocument.querySelectorAll('.taro-left-swiper-btn, .taro-right-swiper-btn')\n  .forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.blur();\n    });\n  });","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nlet swiper;\nconst initSwiper = () => {\n  swiper = new Swiper('.reiki-swiper-init', {\n    loop: false,\n    allowTouchMove: true,\n    autoHeight: true,\n    slidesPerView: 'auto',\n    spaceBetween: 0,\n    centeredSlides: true,\n  });\n};\n\nconst destroySwiper = () => {\n  if (swiper) {\n    swiper.destroy(true, true);\n    swiper = null;\n  }\n};\n\nconst handleResize = () => {\n  if (window.innerWidth >= 1440) {\n    destroySwiper();\n  } else {\n    if (!swiper) {\n      initSwiper();\n    }\n  }\n};\n\nwindow.addEventListener('resize', handleResize);\n\nhandleResize();","import Accordion from 'accordion-js';\n\n\nnew Accordion('.faq-accordion-container');","const scrollBtn = document.querySelector('.scroll-to-top');\nconst triggerEl = document.querySelector('#start');\n\nwindow.addEventListener('scroll', () => {\n  const triggerPosition = triggerEl.getBoundingClientRect().top;\n\n  if (triggerPosition <= 0) {\n    scrollBtn.classList.add('show');\n  } else {\n    scrollBtn.classList.remove('show');\n  }\n});\n\nscrollBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth'\n  });\n});"],"names":["refs","focusTrap","openMenu","_a","createFocusTrap","_b","handleMenuItemClick","closeMenu","event","clickedEl","audio","soundBtn","soundText","soundIcon","updateButtonState","tryPlay","Swiper","btn","slider","items","prevBtn","nextBtn","startX","current","previous","dragging","animationFrame","cardWidth","updateSlider","x","centerNearestCard","handleLimitScroll","animateVisibleCards","direction","maxShift","toggleArrowButtons","shakeCard","containerRect","closestItem","closestDistance","item","itemRect","itemCenter","containerCenter","distance","offset","visibleCard","getVisibleCard","rect","parentRect","position","target","swiper","initSwiper","destroySwiper","handleResize","Accordion","scrollBtn","triggerEl"],"mappings":"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"}